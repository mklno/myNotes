<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-08-25 Sun 17:11 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Database</title>
<meta name="author" content="mklno" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="https://gongzhitaao.org/orgcss/org.css"/>
<link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Database</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge9bc56c">1. Basics</a></li>
<li><a href="#orgfd32ef2">2. Database for a Photo Sharing Database</a>
<ul>
<li><a href="#org0c7b033">2.1. Tables defined</a></li>
<li><a href="#orge240a9e">2.2. Types of relationship</a></li>
<li><a href="#orga0c234d">2.3. Primary  and Foreign Key</a>
<ul>
<li><a href="#org6dafbbe">2.3.1. Foreign key constraints around insertion</a></li>
<li><a href="#org5ccf879">2.3.2. Constraints around deletion</a></li>
</ul>
</li>
<li><a href="#org01ae526">2.4. Relating records with Joins</a></li>
<li><a href="#org9863ce7">2.5. Joins and Aggregation</a>
<ul>
<li><a href="#org27cf017">2.5.1. For each comment, show the contents of the comment and username of the user who wrote the comment</a></li>
<li><a href="#org744c681">2.5.2. For each comment, list the contents of the comment and the url of the photo the comment was added to</a></li>
<li><a href="#orgcc984ee">2.5.3. Notes on Joins</a></li>
<li><a href="#org6a80e0f">2.5.4. Show each photo URL and the username of the poster</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orga0bc8a4">3. Questions</a></li>
</ul>
</div>
</div>
<div id="outline-container-orge9bc56c" class="outline-2">
<h2 id="orge9bc56c"><span class="section-number-2">1.</span> Basics</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Create a table</li>
<li>Insert entries into a table</li>
<li>Insert multiple entries into a table</li>
<li>retrive entries from the table</li>
<li>make calculation (arithmetic operations) from the columns and get the entries</li>
<li>using string related operations and functions</li>
<li>filter using where</li>
<li>updating rows <i>update cities set population=100 where cities == "chennai";</i></li>
<li>deleting <i>delete from phones where manufacturer == "Samsung";</i></li>
</ul>
</div>
</div>
<div id="outline-container-orgfd32ef2" class="outline-2">
<h2 id="orgfd32ef2"><span class="section-number-2">2.</span> Database for a Photo Sharing Database</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org0c7b033" class="outline-3">
<h3 id="org0c7b033"><span class="section-number-3">2.1.</span> Tables defined</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>photos</li>
<li>likes</li>
<li>comments</li>
<li>users</li>
</ul>
</div>
</div>
<div id="outline-container-orge240a9e" class="outline-3">
<h3 id="orge240a9e"><span class="section-number-3">2.2.</span> Types of relationship</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>One to Many (An Instagram user having multiple posts)</li>
<li>Many to One (A bunch of posts having a single user)</li>
<li>Many to Many (Students and a School)</li>
<li>One to One (A Boat and its Captain)</li>
</ul>
</div>
</div>
<div id="outline-container-orga0c234d" class="outline-3">
<h3 id="orga0c234d"><span class="section-number-3">2.3.</span> Primary  and Foreign Key</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>Uniquely identifies a record in a table is defined as Primary key</li>
<li>A primary key of another table usually used to identity them in the current table.</li>
<li>The Many side of the relationship gets the Foreign Key column</li>
</ul>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e5e5e5; font-weight: bold;">create</span> <span style="color: #e5e5e5; font-weight: bold;">table</span> <span style="color: #e5e5e5; font-weight: bold;">users</span>(
  id serial <span style="color: #e5e5e5; font-weight: bold;">primary</span> <span style="color: #e5e5e5; font-weight: bold;">key</span>,
  username <span style="color: #e5e5e5; font-style: italic;">varchar</span>(50));

<span style="color: #e5e5e5; font-weight: bold;">insert</span> <span style="color: #e5e5e5; font-weight: bold;">into</span> users(username)
  <span style="color: #e5e5e5; font-weight: bold;">values</span>
    (<span style="color: #4682b4;">'mklno'</span>),
    (<span style="color: #4682b4;">'kafkaa'</span>),
    (<span style="color: #4682b4;">'okada'</span>),
    (<span style="color: #4682b4;">'mikasa'</span>);

<span style="color: #e5e5e5; font-weight: bold;">create</span> <span style="color: #e5e5e5; font-weight: bold;">table</span> <span style="color: #e5e5e5; font-weight: bold;">photos</span>(
  id serial <span style="color: #e5e5e5; font-weight: bold;">primary</span> <span style="color: #e5e5e5; font-weight: bold;">key</span>,
  url <span style="color: #e5e5e5; font-style: italic;">varchar</span>(200),
  user_id <span style="color: #e5e5e5; font-style: italic;">integer</span> <span style="color: #e5e5e5; font-weight: bold;">references</span> users(id));

<span style="color: #e5e5e5; font-weight: bold;">insert</span> <span style="color: #e5e5e5; font-weight: bold;">into</span> photos(url, user_id)
  <span style="color: #e5e5e5; font-weight: bold;">values</span>
    (<span style="color: #4682b4;">'image url'</span>, 3);

<span style="color: #e5e5e5; font-weight: bold;">select</span> * <span style="color: #e5e5e5; font-weight: bold;">from</span> photos;
</pre>
</div>
</div>
<div id="outline-container-org6dafbbe" class="outline-4">
<h4 id="org6dafbbe"><span class="section-number-4">2.3.1.</span> Foreign key constraints around insertion</h4>
<div class="outline-text-4" id="text-2-3-1">

<div id="org3d8909e" class="figure">
<p><img src="foreign-key-constraints-around-insertion-1.jpg" alt="foreign-key-constraints-around-insertion-1.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org5ccf879" class="outline-4">
<h4 id="org5ccf879"><span class="section-number-4">2.3.2.</span> Constraints around deletion</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
What could happen to the foreign keys when we delete the corresponding primary key?
<img src="constraints-around-deletion-1.jpg" alt="constraints-around-deletion-1.jpg" />
<img src="constraints-around-deletion-2.jpg" alt="constraints-around-deletion-2.jpg" />
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #616161;">-- </span><span style="color: #616161;">on delete cascase</span>
<span style="color: #e5e5e5; font-weight: bold;">CREATE</span> <span style="color: #e5e5e5; font-weight: bold;">TABLE</span> <span style="color: #e5e5e5; font-weight: bold;">photos</span> (
id SERIAL <span style="color: #e5e5e5; font-weight: bold;">PRIMARY</span> <span style="color: #e5e5e5; font-weight: bold;">KEY</span>,
url <span style="color: #e5e5e5; font-style: italic;">VARCHAR</span>(200),
user_id <span style="color: #e5e5e5; font-style: italic;">INTEGER</span> <span style="color: #e5e5e5; font-weight: bold;">REFERENCES</span> users(id)
) <span style="color: #e5e5e5; font-weight: bold;">ON</span> <span style="color: #e5e5e5; font-weight: bold;">DELETE</span> <span style="color: #e5e5e5; font-weight: bold;">CASCADE</span>;

<span style="color: #e5e5e5; font-weight: bold;">INSERT</span> <span style="color: #e5e5e5; font-weight: bold;">INTO</span> photos (url, user_id)
<span style="color: #e5e5e5; font-weight: bold;">VALUES</span>
(<span style="color: #4682b4;">'http:/one.jpg'</span>, 4),
(<span style="color: #4682b4;">'http:/two.jpg'</span>, 1),
(<span style="color: #4682b4;">'http:/25.jpg'</span>, 1),
(<span style="color: #4682b4;">'http:/36.jpg'</span>, 1),
(<span style="color: #4682b4;">'http:/754.jpg'</span>, 2),
(<span style="color: #4682b4;">'http:/35.jpg'</span>, 3),
(<span style="color: #4682b4;">'http:/256.jpg'</span>, 4);

<span style="color: #616161;">-- </span><span style="color: #616161;">on delete set null</span>
  <span style="color: #e5e5e5; font-weight: bold;">CREATE</span> <span style="color: #e5e5e5; font-weight: bold;">TABLE</span> <span style="color: #e5e5e5; font-weight: bold;">photos</span> (
id SERIAL <span style="color: #e5e5e5; font-weight: bold;">PRIMARY</span> <span style="color: #e5e5e5; font-weight: bold;">KEY</span>,
url <span style="color: #e5e5e5; font-style: italic;">VARCHAR</span>(200),
user_id <span style="color: #e5e5e5; font-style: italic;">INTEGER</span> <span style="color: #e5e5e5; font-weight: bold;">REFERENCES</span> users(id)
) <span style="color: #e5e5e5; font-weight: bold;">ON</span> <span style="color: #e5e5e5; font-weight: bold;">DELETE</span> <span style="color: #e5e5e5; font-weight: bold;">SET</span> <span style="color: #e5e5e5; font-weight: bold;">NULL</span>;

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org01ae526" class="outline-3">
<h3 id="org01ae526"><span class="section-number-3">2.4.</span> Relating records with Joins</h3>
<div class="outline-text-3" id="text-2-4">

<div id="orgccf7545" class="figure">
<p><img src="relating-records-with-joins-1.jpg" alt="relating-records-with-joins-1.jpg" />
</p>
</div>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e5e5e5; font-weight: bold;">CREATE</span> <span style="color: #e5e5e5; font-weight: bold;">TABLE</span> <span style="color: #e5e5e5; font-weight: bold;">users</span>(
  id SERIAL <span style="color: #e5e5e5; font-weight: bold;">PRIMARY</span> <span style="color: #e5e5e5; font-weight: bold;">KEY</span>,
  username <span style="color: #e5e5e5; font-style: italic;">VARCHAR</span>(50)
);

<span style="color: #e5e5e5; font-weight: bold;">CREATE</span> <span style="color: #e5e5e5; font-weight: bold;">TABLE</span> <span style="color: #e5e5e5; font-weight: bold;">photos</span> (
  id SERIAL <span style="color: #e5e5e5; font-weight: bold;">PRIMARY</span> <span style="color: #e5e5e5; font-weight: bold;">KEY</span>,
  url <span style="color: #e5e5e5; font-style: italic;">VARCHAR</span>(200),
  user_id <span style="color: #e5e5e5; font-style: italic;">INTEGER</span> <span style="color: #e5e5e5; font-weight: bold;">REFERENCES</span> users(id) <span style="color: #e5e5e5; font-weight: bold;">ON</span> <span style="color: #e5e5e5; font-weight: bold;">DELETE</span> <span style="color: #e5e5e5; font-weight: bold;">CASCADE</span>
);

<span style="color: #e5e5e5; font-weight: bold;">CREATE</span> <span style="color: #e5e5e5; font-weight: bold;">TABLE</span> <span style="color: #e5e5e5; font-weight: bold;">comments</span> (
  id SERIAL <span style="color: #e5e5e5; font-weight: bold;">PRIMARY</span> <span style="color: #e5e5e5; font-weight: bold;">KEY</span>,
  contents <span style="color: #e5e5e5; font-style: italic;">VARCHAR</span>(240),
  user_id <span style="color: #e5e5e5; font-style: italic;">INTEGER</span> <span style="color: #e5e5e5; font-weight: bold;">REFERENCES</span> users(id) <span style="color: #e5e5e5; font-weight: bold;">ON</span> <span style="color: #e5e5e5; font-weight: bold;">DELETE</span> <span style="color: #e5e5e5; font-weight: bold;">CASCADE</span>,
  photo_id <span style="color: #e5e5e5; font-style: italic;">INTEGER</span> <span style="color: #e5e5e5; font-weight: bold;">REFERENCES</span> photos(id) <span style="color: #e5e5e5; font-weight: bold;">ON</span> <span style="color: #e5e5e5; font-weight: bold;">DELETE</span> <span style="color: #e5e5e5; font-weight: bold;">CASCADE</span>
);

<span style="color: #e5e5e5; font-weight: bold;">INSERT</span> <span style="color: #e5e5e5; font-weight: bold;">INTO</span> users (username) 
<span style="color: #e5e5e5; font-weight: bold;">VALUES</span> 
  (<span style="color: #4682b4;">'Reyna.Marvin'</span>),
        (<span style="color: #4682b4;">'Micah.Cremin'</span>),
        (<span style="color: #4682b4;">'Alfredo66'</span>),
        (<span style="color: #4682b4;">'Gerard_Mitchell42'</span>),
        (<span style="color: #4682b4;">'Frederique_Donnelly'</span>);

<span style="color: #e5e5e5; font-weight: bold;">INSERT</span> <span style="color: #e5e5e5; font-weight: bold;">INTO</span> photos (url, user_id)
<span style="color: #e5e5e5; font-weight: bold;">VALUES</span>
  (<span style="color: #4682b4;">'https://santina.net'</span>, 3),
        (<span style="color: #4682b4;">'https://alayna.net'</span>, 5),
        (<span style="color: #4682b4;">'https://kailyn.name'</span>, 3),
        (<span style="color: #4682b4;">'http://marjolaine.name'</span>, 1),
        (<span style="color: #4682b4;">'http://chet.net'</span>, 5),
        (<span style="color: #4682b4;">'http://jerrold.org'</span>, 2),
        (<span style="color: #4682b4;">'https://meredith.net'</span>, 4),
        (<span style="color: #4682b4;">'http://isaias.net'</span>, 4),
        (<span style="color: #4682b4;">'http://dayne.com'</span>, 4),
        (<span style="color: #4682b4;">'http://colten.net'</span>, 2),
        (<span style="color: #4682b4;">'https://adelbert.biz'</span>, 5),
        (<span style="color: #4682b4;">'http://kolby.org'</span>, 1),
        (<span style="color: #4682b4;">'https://deon.biz'</span>, 2),
        (<span style="color: #4682b4;">'https://marina.com'</span>, 5),
        (<span style="color: #4682b4;">'http://johnson.info'</span>, 1),
        (<span style="color: #4682b4;">'https://linda.info'</span>, 2),
        (<span style="color: #4682b4;">'https://tyrique.info'</span>, 4),
        (<span style="color: #4682b4;">'http://buddy.info'</span>, 5),
        (<span style="color: #4682b4;">'https://elinore.name'</span>, 2),
        (<span style="color: #4682b4;">'http://sasha.com'</span>, 3);

<span style="color: #e5e5e5; font-weight: bold;">INSERT</span> <span style="color: #e5e5e5; font-weight: bold;">INTO</span> comments (contents, user_id, photo_id)
<span style="color: #e5e5e5; font-weight: bold;">VALUES</span>
  (<span style="color: #4682b4;">'Quo velit iusto ducimus quos a incidunt nesciunt facilis.'</span>, 2, 4),
        (<span style="color: #4682b4;">'Non est totam.'</span>, 5, 5),
        (<span style="color: #4682b4;">'Fuga et iste beatae.'</span>, 3, 3),
        (<span style="color: #4682b4;">'Molestias tempore est.'</span>, 1, 5),
        (<span style="color: #4682b4;">'Est voluptatum voluptatem voluptatem est ullam quod quia in.'</span>, 1, 5),
        (<span style="color: #4682b4;">'Aut et similique porro ullam.'</span>, 1, 3),
        (<span style="color: #4682b4;">'Fugiat cupiditate consequatur sit magni at non ad omnis.'</span>, 1, 2),
        (<span style="color: #4682b4;">'Accusantium illo maiores et sed maiores quod natus.'</span>, 2, 5),
        (<span style="color: #4682b4;">'Perferendis cumque eligendi.'</span>, 1, 2),
        (<span style="color: #4682b4;">'Nihil quo voluptatem placeat.'</span>, 5, 5),
        (<span style="color: #4682b4;">'Rerum dolor sunt sint.'</span>, 5, 2),
        (<span style="color: #4682b4;">'Id corrupti tenetur similique reprehenderit qui sint qui nulla tenetur.'</span>, 2, 1),
        (<span style="color: #4682b4;">'Maiores quo quia.'</span>, 1, 5),
        (<span style="color: #4682b4;">'Culpa perferendis qui perferendis eligendi officia neque ex.'</span>, 1, 4),
        (<span style="color: #4682b4;">'Reprehenderit voluptates rerum qui veritatis ut.'</span>, 1, 1),
        (<span style="color: #4682b4;">'Aut ipsum porro deserunt maiores sit.'</span>, 5, 3),
        (<span style="color: #4682b4;">'Aut qui eum eos soluta pariatur.'</span>, 1, 1),
        (<span style="color: #4682b4;">'Praesentium tempora rerum necessitatibus aut.'</span>, 4, 3),
        (<span style="color: #4682b4;">'Magni error voluptas veniam ipsum enim.'</span>, 4, 2),
        (<span style="color: #4682b4;">'Et maiores libero quod aliquam sit voluptas.'</span>, 2, 3),
        (<span style="color: #4682b4;">'Eius ab occaecati quae eos aut enim rem.'</span>, 5, 4),
        (<span style="color: #4682b4;">'Et sit occaecati.'</span>, 4, 3),
        (<span style="color: #4682b4;">'Illum omnis et excepturi totam eum omnis.'</span>, 1, 5),
        (<span style="color: #4682b4;">'Nemo nihil rerum alias vel.'</span>, 5, 1),
        (<span style="color: #4682b4;">'Voluptas ab eius.'</span>, 5, 1),
        (<span style="color: #4682b4;">'Dolor soluta quisquam voluptatibus delectus.'</span>, 3, 5),
        (<span style="color: #4682b4;">'Consequatur neque beatae.'</span>, 4, 5),
        (<span style="color: #4682b4;">'Aliquid vel voluptatem.'</span>, 4, 5),
        (<span style="color: #4682b4;">'Maiores nulla ea non autem.'</span>, 4, 5),
        (<span style="color: #4682b4;">'Enim doloremque delectus.'</span>, 1, 4),
        (<span style="color: #4682b4;">'Facere vel assumenda.'</span>, 2, 5),
        (<span style="color: #4682b4;">'Fugiat dignissimos dolorum iusto fugit voluptas et.'</span>, 2, 1),
        (<span style="color: #4682b4;">'Sed cumque in et.'</span>, 1, 3),
        (<span style="color: #4682b4;">'Doloribus temporibus hic eveniet temporibus corrupti et voluptatem et sint.'</span>, 5, 4),
        (<span style="color: #4682b4;">'Quia dolorem officia explicabo quae.'</span>, 3, 1),
        (<span style="color: #4682b4;">'Ullam ad laborum totam veniam.'</span>, 1, 2),
        (<span style="color: #4682b4;">'Et rerum voluptas et corporis rem in hic.'</span>, 2, 3),
        (<span style="color: #4682b4;">'Tempora quas facere.'</span>, 3, 1),
        (<span style="color: #4682b4;">'Rem autem corporis earum necessitatibus dolores explicabo iste quo.'</span>, 5, 5),
        (<span style="color: #4682b4;">'Animi aperiam repellendus in aut eum consequatur quos.'</span>, 1, 2),
        (<span style="color: #4682b4;">'Enim esse magni.'</span>, 4, 3),
        (<span style="color: #4682b4;">'Saepe cumque qui pariatur.'</span>, 4, 4),
        (<span style="color: #4682b4;">'Sit dolorem ipsam nisi.'</span>, 4, 1),
        (<span style="color: #4682b4;">'Dolorem veniam nisi quidem.'</span>, 2, 5),
        (<span style="color: #4682b4;">'Porro illum perferendis nemo libero voluptatibus vel.'</span>, 3, 3),
        (<span style="color: #4682b4;">'Dicta enim rerum culpa a quo molestiae nam repudiandae at.'</span>, 2, 4),
        (<span style="color: #4682b4;">'Consequatur magnam autem voluptas deserunt.'</span>, 5, 1),
        (<span style="color: #4682b4;">'Incidunt cum delectus sunt tenetur et.'</span>, 4, 3),
        (<span style="color: #4682b4;">'Non vel eveniet sed molestiae tempora.'</span>, 2, 1),
        (<span style="color: #4682b4;">'Ad placeat repellat et veniam ea asperiores.'</span>, 5, 1),
        (<span style="color: #4682b4;">'Eum aut magni sint.'</span>, 3, 1),
        (<span style="color: #4682b4;">'Aperiam voluptates quis velit explicabo ipsam vero eum.'</span>, 1, 3),
        (<span style="color: #4682b4;">'Error nesciunt blanditiis quae quis et tempora velit repellat sint.'</span>, 2, 4),
        (<span style="color: #4682b4;">'Blanditiis saepe dolorem enim eos sed ea.'</span>, 1, 2),
        (<span style="color: #4682b4;">'Ab veritatis est.'</span>, 2, 2),
        (<span style="color: #4682b4;">'Vitae voluptatem voluptates vel nam.'</span>, 3, 1),
        (<span style="color: #4682b4;">'Neque aspernatur est non ad vitae nisi ut nobis enim.'</span>, 4, 3),
        (<span style="color: #4682b4;">'Debitis ut amet.'</span>, 4, 2),
        (<span style="color: #4682b4;">'Pariatur beatae nihil cum molestiae provident vel.'</span>, 4, 4),
        (<span style="color: #4682b4;">'Aperiam sunt aliquam illum impedit.'</span>, 1, 4),
        (<span style="color: #4682b4;">'Aut laudantium necessitatibus harum eaque.'</span>, 5, 3),
        (<span style="color: #4682b4;">'Debitis voluptatum nesciunt quisquam voluptatibus fugiat nostrum sed dolore quasi.'</span>, 3, 2),
        (<span style="color: #4682b4;">'Praesentium velit voluptatem distinctio ut voluptatum at aut.'</span>, 2, 2),
        (<span style="color: #4682b4;">'Voluptates nihil voluptatum quia maiores dolorum molestias occaecati.'</span>, 1, 4),
        (<span style="color: #4682b4;">'Quisquam modi labore.'</span>, 3, 2),
        (<span style="color: #4682b4;">'Fugit quia perferendis magni doloremque dicta officia dignissimos ut necessitatibus.'</span>, 1, 4),
        (<span style="color: #4682b4;">'Tempora ipsam aut placeat ducimus ut exercitationem quis provident.'</span>, 5, 3),
        (<span style="color: #4682b4;">'Expedita ducimus cum quibusdam.'</span>, 5, 1),
        (<span style="color: #4682b4;">'In voluptates doloribus aut ut libero possimus adipisci iste.'</span>, 3, 2),
        (<span style="color: #4682b4;">'Sit qui est sed accusantium quidem id voluptatum id.'</span>, 1, 5),
        (<span style="color: #4682b4;">'Libero eius quo consequatur laudantium reiciendis reiciendis aliquid nemo.'</span>, 1, 2),
        (<span style="color: #4682b4;">'Officia qui reprehenderit ut accusamus qui voluptatum at.'</span>, 2, 2),
        (<span style="color: #4682b4;">'Ad similique quo.'</span>, 4, 1),
        (<span style="color: #4682b4;">'Commodi culpa aut nobis qui illum deserunt reiciendis.'</span>, 2, 3),
        (<span style="color: #4682b4;">'Tenetur quam aut rerum doloribus est ipsa autem.'</span>, 4, 2),
        (<span style="color: #4682b4;">'Est accusamus aut nisi sit aut id non natus assumenda.'</span>, 2, 4),
        (<span style="color: #4682b4;">'Et sit et vel quos recusandae quo qui.'</span>, 1, 3),
        (<span style="color: #4682b4;">'Velit nihil voluptatem et sed.'</span>, 4, 4),
        (<span style="color: #4682b4;">'Sunt vitae expedita fugiat occaecati.'</span>, 1, 3),
        (<span style="color: #4682b4;">'Consequatur quod et ipsam in dolorem.'</span>, 4, 2),
        (<span style="color: #4682b4;">'Magnam voluptatum molestias vitae voluptatibus beatae nostrum sunt.'</span>, 3, 5),
        (<span style="color: #4682b4;">'Alias praesentium ut voluptatem alias praesentium tempora voluptas debitis.'</span>, 2, 5),
        (<span style="color: #4682b4;">'Ipsam cumque aut consectetur mollitia vel quod voluptates provident suscipit.'</span>, 3, 5),
        (<span style="color: #4682b4;">'Ad dignissimos quia aut commodi vel ut nisi.'</span>, 3, 3),
        (<span style="color: #4682b4;">'Fugit ut architecto doloremque neque quis.'</span>, 4, 5),
        (<span style="color: #4682b4;">'Repudiandae et voluptas aut in excepturi.'</span>, 5, 3),
        (<span style="color: #4682b4;">'Aperiam voluptatem animi.'</span>, 5, 1),
        (<span style="color: #4682b4;">'Et mollitia vel soluta fugiat.'</span>, 4, 1),
        (<span style="color: #4682b4;">'Ut nemo voluptas voluptatem voluptas.'</span>, 5, 2),
        (<span style="color: #4682b4;">'At aut quidem voluptatibus rem.'</span>, 5, 1),
        (<span style="color: #4682b4;">'Temporibus voluptates iure fuga alias minus eius.'</span>, 2, 3),
        (<span style="color: #4682b4;">'Non autem laboriosam consectetur officiis aut excepturi nobis commodi.'</span>, 4, 3),
        (<span style="color: #4682b4;">'Esse voluptatem sed deserunt ipsum eaque maxime rerum qui.'</span>, 5, 5),
        (<span style="color: #4682b4;">'Debitis ipsam ut pariatur molestiae ut qui aut reiciendis.'</span>, 4, 4),
        (<span style="color: #4682b4;">'Illo atque nihil et quod consequatur neque pariatur delectus.'</span>, 3, 3),
        (<span style="color: #4682b4;">'Qui et hic accusantium odio quis necessitatibus et magni.'</span>, 4, 2),
        (<span style="color: #4682b4;">'Debitis repellendus inventore omnis est facere aliquam.'</span>, 3, 3),
        (<span style="color: #4682b4;">'Occaecati eos possimus deleniti itaque aliquam accusamus.'</span>, 3, 4),
        (<span style="color: #4682b4;">'Molestiae officia architecto eius nesciunt.'</span>, 5, 4),
        (<span style="color: #4682b4;">'Minima dolorem reiciendis excepturi culpa sapiente eos deserunt ut.'</span>, 3, 3);
</pre>
</div>

<div id="org94ce710" class="figure">
<p><img src="joins-and-aggregation-2.jpg" alt="joins-and-aggregation-2.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org9863ce7" class="outline-3">
<h3 id="org9863ce7"><span class="section-number-3">2.5.</span> Joins and Aggregation</h3>
<div class="outline-text-3" id="text-2-5">

<div id="org1b3f72a" class="figure">
<p><img src="joins-and-aggregation-1.jpg" alt="joins-and-aggregation-1.jpg" />
</p>
</div>
</div>
<div id="outline-container-org27cf017" class="outline-4">
<h4 id="org27cf017"><span class="section-number-4">2.5.1.</span> For each comment, show the contents of the comment and username of the user who wrote the comment</h4>
<div class="outline-text-4" id="text-2-5-1">
<p>
<img src="for-each-comment-show-the-contents-of-th-1.jpg" alt="for-each-comment-show-the-contents-of-th-1.jpg" />
<img src="for-each-comment-show-the-contents-of-th-2.jpg" alt="for-each-comment-show-the-contents-of-th-2.jpg" />
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e5e5e5; font-weight: bold;">SELECT</span>
  contents,
  username
<span style="color: #e5e5e5; font-weight: bold;">FROM</span>
  comments
  <span style="color: #e5e5e5; font-weight: bold;">JOIN</span> users <span style="color: #e5e5e5; font-weight: bold;">on</span> users.id = comments.user_id;
</pre>
</div>
</div>
</div>
<div id="outline-container-org744c681" class="outline-4">
<h4 id="org744c681"><span class="section-number-4">2.5.2.</span> For each comment, list the contents of the comment and the url of the photo the comment was added to</h4>
<div class="outline-text-4" id="text-2-5-2">
<p>
<img src="for-each-comment-list-the-contents-of-th-1.jpg" alt="for-each-comment-list-the-contents-of-th-1.jpg" />
<img src="for-each-comment-list-the-contents-of-th-2.jpg" alt="for-each-comment-list-the-contents-of-th-2.jpg" />
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e5e5e5; font-weight: bold;">SELECT</span>
  contents,
  url
<span style="color: #e5e5e5; font-weight: bold;">FROM</span>
  COMMENTS
  <span style="color: #e5e5e5; font-weight: bold;">JOIN</span> photos <span style="color: #e5e5e5; font-weight: bold;">on</span> photos.id = comments.photo_id;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcc984ee" class="outline-4">
<h4 id="orgcc984ee"><span class="section-number-4">2.5.3.</span> Notes on Joins</h4>
<div class="outline-text-4" id="text-2-5-3">
<ul class="org-ul">
<li>Table order between 'FROM' and 'JOIN' frequently makes a difference</li>
<li>We must give context if column names collide</li>
<li>Tables can be renamed using the 'AS' keyword</li>
</ul>
</div>
</div>
<div id="outline-container-org6a80e0f" class="outline-4">
<h4 id="org6a80e0f"><span class="section-number-4">2.5.4.</span> Show each photo URL and the username of the poster</h4>
<div class="outline-text-4" id="text-2-5-4">
<p>
<img src="show-each-photo-url-and-the-username-of--1.jpg" alt="show-each-photo-url-and-the-username-of--1.jpg" />
<img src="show-each-photo-url-and-the-username-of--2.jpg" alt="show-each-photo-url-and-the-username-of--2.jpg" />
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e5e5e5; font-weight: bold;">SELECT</span>
  url,
  username
<span style="color: #e5e5e5; font-weight: bold;">FROM</span>
  photos
  <span style="color: #e5e5e5; font-weight: bold;">JOIN</span> users <span style="color: #e5e5e5; font-weight: bold;">on</span> users.id = photos.user_id;
</pre>
</div>
<ul class="org-ul">
<li>What if we added a photo with the userid NULL</li>
</ul>

<div id="org4a182b7" class="figure">
<p><img src="show-each-photo-url-and-the-username-of--3.jpg" alt="show-each-photo-url-and-the-username-of--3.jpg" />  
</p>
</div>
<div class="org-src-container">
<pre class="src src-sql">  <span style="color: #e5e5e5; font-weight: bold;">INSERT</span> <span style="color: #e5e5e5; font-weight: bold;">INTO</span>
    photos (url, user_id)
  <span style="color: #e5e5e5; font-weight: bold;">VALUES</span>
    (<span style="color: #4682b4;">'https://ok.jpg'</span>, <span style="color: #e5e5e5; font-weight: bold;">NULL</span>);

<span style="color: #616161;">-- </span><span style="color: #616161;">the select statement doesn't fetch all the photos, photos tagged to null user aren't returned  </span>
  <span style="color: #e5e5e5; font-weight: bold;">SELECT</span>
    url,
    username
  <span style="color: #e5e5e5; font-weight: bold;">FROM</span>
    photos
    <span style="color: #e5e5e5; font-weight: bold;">JOIN</span> users <span style="color: #e5e5e5; font-weight: bold;">on</span> users.id = photos.user_id;
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orga0bc8a4" class="outline-2">
<h2 id="orga0bc8a4"><span class="section-number-2">3.</span> Questions</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>What is varchar()</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: mklno</p>
<p class="date">Created: 2024-08-25 Sun 17:11</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
